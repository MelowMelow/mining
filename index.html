<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <title>Anti-Utopia Mining Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="preloader">
        <img src="preloader.jpg" alt="Loading..." />
        <div class="loading-bar">
            <div class="progress"></div>
        </div> 
        <p>Loading... Please wait</p>
    </div>
  <div id="main-container">
    <!-- Game UI Elements (example) -->
    <div id="stats">
      <div><img src="gold.png" alt="Gold"> <span id="gold-count">0</span></div>
      <div><img src="silver.png" alt="Silver"> <span id="silver-count">0</span></div>
      <div><img src="iron.png" alt="Iron"> <span id="iron-count">0</span></div>
    </div>

    <div id="energy-bar">
      <div id="energy-fill"></div>
      <span>Energy: <span id="energy-count">1000</span></span>
    </div>

    <button id="mine-button">Start Mining</button>
    <button id="inventory-button">Inventory</button>
    <button id="leaderboard-button">Leaderboard</button>


    <div id="inventory-frame" class="hidden">
      <div>
        <button id="close-inventory">X</button>
        <h3>Inventory</h3>
        <ul id="inventory-list"></ul>
      </div>
    </div>

    <div id="popup-resource"></div>
    <div id="mining-timer" class="hidden">
      <img src="1.gif" alt="Pulsing GIF" id="gif">
    </div>
    <div id="timer-countdown">10</div>
  </div>
<!-- Wrapper Div for Telegram Login Widget -->
	
	<button id="showFriendsButton">Friends</button>

    <div id="friends">
        <h2>Your Friends</h2>
        <p>Invite your friends using this link:</p>
        <p id="referralLinkPlaceholder"></p>
    </div>

</div>

<script type="module" src="script.js"></script>
<script type="module">
    import { initializeReferral } from './referral.js';
    document.addEventListener('DOMContentLoaded', initializeReferral);
</script>



</body>
</html>
